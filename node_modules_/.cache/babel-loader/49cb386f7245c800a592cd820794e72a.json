{"ast":null,"code":"import axios from'axios';export var refreshToken=function refreshToken(callback){axios.post(\"/auth/refreshToken\",{headers:{\"Content-Type\":'application/json'}}).then(function(res){console.log(\"res.data.accessToken : \"+res.data);axios.defaults.headers.common['Authorization']='Bearer '+res.data;if(callback){callback(true);}setTimeout(function(){refreshToken(null);},60*1000);}).catch(function(ex){if(callback){callback(false);}}).finally(function(){// console.log(\"refresh token request end\");\n// setLoading(true);\n});};","map":{"version":3,"names":["axios","refreshToken","callback","post","headers","then","res","console","log","data","defaults","common","setTimeout","catch","ex","finally"],"sources":["C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/src/token/Auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const refreshToken = function(callback){\r\n    axios.post(\"/auth/refreshToken\" , {\r\n        headers: {\r\n          \"Content-Type\": 'application/json',\r\n    }})\r\n    .then(res =>{\r\n        console.log(\"res.data.accessToken : \" + res.data);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + res.data;\r\n        if(callback){\r\n            callback(true);\r\n        }\r\n        \r\n        setTimeout(function(){\r\n            refreshToken(null) ;\r\n        }, (60 * 1000));\r\n        \r\n    })\r\n    .catch(ex=>{\r\n        \r\n        if(callback){\r\n            callback(false);\r\n        }\r\n    })\r\n    .finally(()=>{\r\n      // console.log(\"refresh token request end\");\r\n      // setLoading(true);\r\n    });\r\n};"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CAASC,QAAT,CAAkB,CAC1CF,KAAK,CAACG,IAAN,CAAW,oBAAX,CAAkC,CAC9BC,OAAO,CAAE,CACP,eAAgB,kBADT,CADqB,CAAlC,EAICC,IAJD,CAIM,SAAAC,GAAG,CAAG,CACRC,OAAO,CAACC,GAAR,CAAY,0BAA4BF,GAAG,CAACG,IAA5C,EACAT,KAAK,CAACU,QAAN,CAAeN,OAAf,CAAuBO,MAAvB,CAA8B,eAA9B,EAAiD,UAAYL,GAAG,CAACG,IAAjE,CACA,GAAGP,QAAH,CAAY,CACRA,QAAQ,CAAC,IAAD,CAAR,CACH,CAEDU,UAAU,CAAC,UAAU,CACjBX,YAAY,CAAC,IAAD,CAAZ,CACH,CAFS,CAEN,GAAK,IAFC,CAAV,CAIH,CAfD,EAgBCY,KAhBD,CAgBO,SAAAC,EAAE,CAAE,CAEP,GAAGZ,QAAH,CAAY,CACRA,QAAQ,CAAC,KAAD,CAAR,CACH,CACJ,CArBD,EAsBCa,OAtBD,CAsBS,UAAI,CACX;AACA;AACD,CAzBD,EA0BH,CA3BM"},"metadata":{},"sourceType":"module"}