{"ast":null,"code":"import _slicedToArray from\"C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component}from\"react\";// import { Wrapper, Status } from \"@googlemaps/react-wrapper\";\nimport{GoogleMap,LoadScript}from\"@react-google-maps/api\";import axios from'axios';import{useEffect,useState}from\"react\";import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Figure from'react-bootstrap/Figure';import $ from'jquery';import'./Maps.css';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var containerStyle={width:'100%',height:'80vh'};var url=\"http://travelbusanko.com\";var MapPage=function MapPage(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),lat=_useState2[0],setLat=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),lng=_useState4[0],setLng=_useState4[1];var center={lat:lat,lng:lng};var loc_id=\"MLOC001\";useEffect(function(){if(typeof props.location.inputValue!='undefined'){loc_id=props.location.inputValue.mloc_id;}axios.get(url+\"/api/location/types/main/\".concat(loc_id),{headers:{\"Content-Type\":\"application/json\"}}).then(function(res){var data=res.data[0];setLat(Number(data.loc_lat));setLng(Number(data.loc_lng));});},[]);axios.get(url+\"/api/view/image/\".concat(loc_id),{headers:{\"Content-Type\":\"application/json\"}}).then(function(res){var data=res.data;var innerHTML=\"\";for(var i=0;i<data.length;i++){innerHTML+=\"<img src='http://travelbusanko.com/\"+data[i].saved_path+\"' class='image__box' />\";}$('.image__viewer').html(innerHTML);});return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(LoadScript,{googleMapsApiKey:\"AIzaSyB-RafIQqKjj2kactuwVHkuoulZSKA4rSs\",children:/*#__PURE__*/_jsx(GoogleMap,{bootstrapURLKeys:{key:\"AIzaSyB-RafIQqKjj2kactuwVHkuoulZSKA4rSs\"},mapContainerStyle:containerStyle,center:center,zoom:14,children:/*#__PURE__*/_jsx(_Fragment,{})})})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Figure,{className:\"image__viewer m-3\"})})]})});};export default MapPage;","map":{"version":3,"names":["React","Component","GoogleMap","LoadScript","axios","useEffect","useState","Container","Row","Col","Figure","$","containerStyle","width","height","url","MapPage","props","lat","setLat","lng","setLng","center","loc_id","location","inputValue","mloc_id","get","headers","then","res","data","Number","loc_lat","loc_lng","innerHTML","i","length","saved_path","html","key"],"sources":["C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/src/maps/MapPage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\n// import { Wrapper, Status } from \"@googlemaps/react-wrapper\";\r\nimport { GoogleMap, LoadScript } from \"@react-google-maps/api\";\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from \"react\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport $ from 'jquery';\r\nimport './Maps.css';\r\nconst containerStyle = {\r\n    width: '100%',\r\n    height: '80vh'\r\n};\r\n\r\n\r\nconst url = \"http://travelbusanko.com\";\r\n\r\nconst MapPage = (props) => {\r\n    const [lat, setLat] = useState('');\r\n    const [lng, setLng] = useState('');\r\n    \r\n    const center = {\r\n      lat : lat,\r\n      lng : lng\r\n    }\r\n    var loc_id = \"MLOC001\";\r\n    \r\n    \r\n    useEffect(() => {\r\n      if (typeof(props.location.inputValue) != 'undefined'){\r\n        loc_id = props.location.inputValue.mloc_id;\r\n      }\r\n      \r\n      axios.get(url + `/api/location/types/main/${loc_id}`, {\r\n          headers: {\r\n              \"Content-Type\": `application/json`,\r\n          }\r\n      }).then((res) => {\r\n        var data = res.data[0];\r\n        setLat(Number(data.loc_lat));\r\n        setLng(Number(data.loc_lng)); \r\n      })\r\n    }, []);\r\n       \r\n    axios.get(url + `/api/view/image/${loc_id}`, {\r\n        headers: {\r\n            \"Content-Type\": `application/json`,\r\n        }\r\n    }).then((res) => {\r\n        var data = res.data;\r\n        var innerHTML = \"\";\r\n        for(var i=0; i<data.length; i++){\r\n          innerHTML += \"<img src='http://travelbusanko.com/\" + data[i].saved_path + \"' class='image__box' />\" ;\r\n          \r\n        }\r\n        $('.image__viewer').html(innerHTML);\r\n\r\n    })\r\n    \r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <LoadScript googleMapsApiKey=\"AIzaSyB-RafIQqKjj2kactuwVHkuoulZSKA4rSs\">\r\n              <GoogleMap\r\n                bootstrapURLKeys={{key:\"AIzaSyB-RafIQqKjj2kactuwVHkuoulZSKA4rSs\"}}\r\n                mapContainerStyle={containerStyle}\r\n                center={center}\r\n                zoom={14}\r\n              >\r\n                { /* Child components, such as markers, info windows, etc. */ }\r\n                <></>\r\n              </GoogleMap>\r\n            </LoadScript>\r\n          </Col>\r\n          <Col>\r\n          <Figure className=\"image__viewer m-3\">\r\n\r\n          </Figure>\r\n            {/* <div className=\"image__viewer m-3\">\r\n            \r\n            </div> */}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      \r\n              \r\n    );\r\n    \r\n}\r\n\r\n  \r\nexport default MapPage;"],"mappings":"gJAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,wBAAtC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,UAAP,KAAsB,2BAAtB,CACA,MAAOC,IAAP,KAAgB,qBAAhB,CACA,MAAOC,IAAP,KAAgB,qBAAhB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,MAAOC,EAAP,KAAc,QAAd,CACA,MAAO,YAAP,C,6IACA,GAAMC,eAAc,CAAG,CACnBC,KAAK,CAAE,MADY,CAEnBC,MAAM,CAAE,MAFW,CAAvB,CAMA,GAAMC,IAAG,CAAG,0BAAZ,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAW,CACvB,cAAsBX,QAAQ,CAAC,EAAD,CAA9B,wCAAOY,GAAP,eAAYC,MAAZ,eACA,eAAsBb,QAAQ,CAAC,EAAD,CAA9B,yCAAOc,GAAP,eAAYC,MAAZ,eAEA,GAAMC,OAAM,CAAG,CACbJ,GAAG,CAAGA,GADO,CAEbE,GAAG,CAAGA,GAFO,CAAf,CAIA,GAAIG,OAAM,CAAG,SAAb,CAGAlB,SAAS,CAAC,UAAM,CACd,GAAI,MAAOY,MAAK,CAACO,QAAN,CAAeC,UAAtB,EAAqC,WAAzC,CAAqD,CACnDF,MAAM,CAAGN,KAAK,CAACO,QAAN,CAAeC,UAAf,CAA0BC,OAAnC,CACD,CAEDtB,KAAK,CAACuB,GAAN,CAAUZ,GAAG,oCAA+BQ,MAA/B,CAAb,CAAsD,CAClDK,OAAO,CAAE,CACL,iCADK,CADyC,CAAtD,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACf,GAAIC,KAAI,CAAGD,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAX,CACAZ,MAAM,CAACa,MAAM,CAACD,IAAI,CAACE,OAAN,CAAP,CAAN,CACAZ,MAAM,CAACW,MAAM,CAACD,IAAI,CAACG,OAAN,CAAP,CAAN,CACD,CARD,EASD,CAdQ,CAcN,EAdM,CAAT,CAgBA9B,KAAK,CAACuB,GAAN,CAAUZ,GAAG,2BAAsBQ,MAAtB,CAAb,CAA6C,CACzCK,OAAO,CAAE,CACL,iCADK,CADgC,CAA7C,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACb,GAAIC,KAAI,CAAGD,GAAG,CAACC,IAAf,CACA,GAAII,UAAS,CAAG,EAAhB,CACA,IAAI,GAAIC,EAAC,CAAC,CAAV,CAAaA,CAAC,CAACL,IAAI,CAACM,MAApB,CAA4BD,CAAC,EAA7B,CAAgC,CAC9BD,SAAS,EAAI,sCAAwCJ,IAAI,CAACK,CAAD,CAAJ,CAAQE,UAAhD,CAA6D,yBAA1E,CAED,CACD3B,CAAC,CAAC,gBAAD,CAAD,CAAoB4B,IAApB,CAAyBJ,SAAzB,EAEH,CAbD,EAeA,mBACE,KAAC,SAAD,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,wBACE,KAAC,UAAD,EAAY,gBAAgB,CAAC,yCAA7B,uBACE,KAAC,SAAD,EACE,gBAAgB,CAAE,CAACK,GAAG,CAAC,yCAAL,CADpB,CAEE,iBAAiB,CAAE5B,cAFrB,CAGE,MAAM,CAAEU,MAHV,CAIE,IAAI,CAAE,EAJR,uBAOE,kBAPF,EADF,EADF,EADF,cAcE,KAAC,GAAD,wBACA,KAAC,MAAD,EAAQ,SAAS,CAAC,mBAAlB,EADA,EAdF,GADF,EADF,CA8BH,CAxED,CA2EA,cAAeN,QAAf"},"metadata":{},"sourceType":"module"}