{"ast":null,"code":"import axios from 'axios';\nexport const refreshToken = function (callback) {\n  axios.post(\"/auth/refreshToken\", {\n    headers: {\n      \"Content-Type\": 'application/json'\n    }\n  }).then(res => {\n    console.log(\"res.data.accessToken : \" + res.data);\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + res.data;\n\n    if (callback) {\n      callback(true);\n    }\n\n    setTimeout(function () {\n      refreshToken(null);\n    }, 60 * 1000);\n  }).catch(ex => {\n    if (callback) {\n      callback(false);\n    }\n  }).finally(() => {// console.log(\"refresh token request end\");\n    // setLoading(true);\n  });\n};","map":{"version":3,"names":["axios","refreshToken","callback","post","headers","then","res","console","log","data","defaults","common","setTimeout","catch","ex","finally"],"sources":["C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/src/token/Auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const refreshToken = function(callback){\r\n    axios.post(\"/auth/refreshToken\" , {\r\n        headers: {\r\n          \"Content-Type\": 'application/json',\r\n    }})\r\n    .then(res =>{\r\n        console.log(\"res.data.accessToken : \" + res.data);\r\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + res.data;\r\n        if(callback){\r\n            callback(true);\r\n        }\r\n        \r\n        setTimeout(function(){\r\n            refreshToken(null) ;\r\n        }, (60 * 1000));\r\n        \r\n    })\r\n    .catch(ex=>{\r\n        \r\n        if(callback){\r\n            callback(false);\r\n        }\r\n    })\r\n    .finally(()=>{\r\n      // console.log(\"refresh token request end\");\r\n      // setLoading(true);\r\n    });\r\n};"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,YAAY,GAAG,UAASC,QAAT,EAAkB;EAC1CF,KAAK,CAACG,IAAN,CAAW,oBAAX,EAAkC;IAC9BC,OAAO,EAAE;MACP,gBAAgB;IADT;EADqB,CAAlC,EAICC,IAJD,CAIMC,GAAG,IAAG;IACRC,OAAO,CAACC,GAAR,CAAY,4BAA4BF,GAAG,CAACG,IAA5C;IACAT,KAAK,CAACU,QAAN,CAAeN,OAAf,CAAuBO,MAAvB,CAA8B,eAA9B,IAAiD,YAAYL,GAAG,CAACG,IAAjE;;IACA,IAAGP,QAAH,EAAY;MACRA,QAAQ,CAAC,IAAD,CAAR;IACH;;IAEDU,UAAU,CAAC,YAAU;MACjBX,YAAY,CAAC,IAAD,CAAZ;IACH,CAFS,EAEN,KAAK,IAFC,CAAV;EAIH,CAfD,EAgBCY,KAhBD,CAgBOC,EAAE,IAAE;IAEP,IAAGZ,QAAH,EAAY;MACRA,QAAQ,CAAC,KAAD,CAAR;IACH;EACJ,CArBD,EAsBCa,OAtBD,CAsBS,MAAI,CACX;IACA;EACD,CAzBD;AA0BH,CA3BM"},"metadata":{},"sourceType":"module"}