{"ast":null,"code":"import _toConsumableArray from\"C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useEffect,useState}from\"react\";import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import $ from'jquery';import Swal from\"sweetalert2\";import uuid from\"react-uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"http://travelbusanko.com\";function AddLocPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),previewImages=_useState4[0],setPreviewImages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),loctypeInput=_useState6[0],setLoctypeInput=_useState6[1];var addImage=function addImage(e){var nowSelectImageList=e.target.files;var previewList=_toConsumableArray(nowSelectImageList);var fileURL=[];var file;var maxFile=50;var filesLength=nowSelectImageList.length>maxFile?maxFile:nowSelectImageList.length;fileURL.push(nowSelectImageList);setImages(fileURL);for(var i=0;i<filesLength;i++){file=nowSelectImageList[i];if(file.type!==\"image/jpeg\"&&file.type!==\"image/jpg\"&&file.type!==\"image/png\"){setImages([]);Swal.fire({icon:\"warning\",title:\"사진 형식 에러\",text:\"JPG \\uC0AC\\uC9C4 \\uD30C\\uC77C\\uB9CC \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\",showCancelButton:true,confirmButtonText:\"확인\",cancelButtonText:\"취소\"});break;}else{var preview=URL.createObjectURL(nowSelectImageList[i]);previewList.push(preview);}}setPreviewImages(previewList);};axios.get(url+\"/api/location/types\",{headers:{\"Content-Type\":\"application/json\"}}).then(function(res){var data=res.data;var innerHTML=\"<option value='\"+data[0].loctype_id+\"'>위치 타입 선택</option>\";for(var i=0;i<data.length;i++){innerHTML+=\"<option key={uuid()} value='\"+data[i].loctype_id+\"'>\"+data[i].loctype_name+\"</option>\";}$(\".selectbox\").html(innerHTML);});useEffect(function(){});return/*#__PURE__*/_jsx(\"div\",{className:\"m-5\",children:/*#__PURE__*/_jsxs(Form,{name:\"form\",method:\"post\",encType:\"multipart/form-data\",action:\"http://travelbusanko.com/api/add/location\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC704\\uCE58 \\uD0C0\\uC785\"}),/*#__PURE__*/_jsx(Form.Select,{\"aria-label\":\"Default select example\",className:\"selectbox\",name:\"loctype_id\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"hidden\",name:\"post_type\",value:\"LOC\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC704\\uCE58\\uBA85\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"loc_name\",placeholder:\"\\uC704\\uCE58\\uBA85\\uC785\\uB825\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC704\\uCE58 \\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"loc_point\",placeholder:\"\\uC704\\uCE58 \\uD3EC\\uC778\\uD2B8 \\uC785\\uB825\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",onChange:addImage,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC704\\uCE58 \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",name:\"uploadfile\",multiple:\"multiple\",placeholder:\"\\uC704\\uCE58 \\uD3EC\\uC778\\uD2B8 \\uC785\\uB825\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preview__box\",style:{width:'100%',height:'300px',display:'flex'},children:previewImages.map(function(image,id){return/*#__PURE__*/_jsx(\"div\",{style:{float:'left'},children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\".concat(image,\"-\").concat(id),style:{width:'100%',height:'300px'}})},id);})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}export default AddLocPage;","map":{"version":3,"names":["axios","useEffect","useState","Button","Form","$","Swal","uuid","url","AddLocPage","images","setImages","previewImages","setPreviewImages","loctypeInput","setLoctypeInput","addImage","e","nowSelectImageList","target","files","previewList","fileURL","file","maxFile","filesLength","length","push","i","type","fire","icon","title","text","showCancelButton","confirmButtonText","cancelButtonText","preview","URL","createObjectURL","get","headers","then","res","data","innerHTML","loctype_id","loctype_name","html","width","height","display","map","image","id","float"],"sources":["C:/Users/PKNU/Documents/GitHub/travelbusanko/travelbusanko/src/regLocations/AddLocPage.js"],"sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport $ from 'jquery';\r\nimport Swal from \"sweetalert2\";\r\nimport uuid from \"react-uuid\"\r\n\r\nconst url = \"http://travelbusanko.com\";\r\nfunction AddLocPage() {\r\n    const [images, setImages] = useState([]);\r\n    const [previewImages, setPreviewImages] = useState([]);\r\n    const [loctypeInput, setLoctypeInput] = useState('');\r\n    \r\n    const addImage = e => {\r\n        const nowSelectImageList = e.target.files;\r\n        const previewList = [...nowSelectImageList];\r\n        let fileURL = [];\r\n\r\n        let file;\r\n        let maxFile = 50;\r\n        let filesLength = nowSelectImageList.length > maxFile ? maxFile : nowSelectImageList.length;\r\n        \r\n        fileURL.push(nowSelectImageList);\r\n        setImages(fileURL);\r\n        for(var i=0; i<filesLength; i++){\r\n            file = nowSelectImageList[i];\r\n            if(file.type !== \"image/jpeg\" && file.type !== \"image/jpg\" && file.type !== \"image/png\"){\r\n                setImages([]);\r\n                Swal.fire({\r\n                    icon: \"warning\",\r\n                    title: \"사진 형식 에러\",\r\n                    text: `JPG 사진 파일만 가능합니다.`,\r\n                    showCancelButton: true,\r\n                    confirmButtonText: \"확인\",\r\n                    cancelButtonText: \"취소\",\r\n                })\r\n                break;\r\n            } else{\r\n                const preview = URL.createObjectURL(nowSelectImageList[i]);\r\n                previewList.push(preview);\r\n            }\r\n        }\r\n        setPreviewImages(previewList);\r\n    }\r\n    \r\n    axios.get(url + \"/api/location/types\", {\r\n        headers: {\r\n            \"Content-Type\": `application/json`,\r\n        }\r\n    }).then((res) => {\r\n        var data = res.data;\r\n        var innerHTML = \"<option value='\" + data[0].loctype_id + \"'>위치 타입 선택</option>\";\r\n        for(var i=0; i<data.length; i++){\r\n            innerHTML += \"<option key={uuid()} value='\" + data[i].loctype_id + \"'>\" + data[i].loctype_name + \"</option>\";\r\n        }\r\n        $(\".selectbox\").html(innerHTML);\r\n    })\r\n\r\n    useEffect(()=>{\r\n        \r\n    })\r\n\r\n  return (\r\n    <div className='m-5'>\r\n    <Form name=\"form\" method=\"post\" encType='multipart/form-data' action=\"http://travelbusanko.com/api/add/location\">\r\n        <Form.Label>위치 타입</Form.Label>\r\n        <Form.Select aria-label=\"Default select example\" className='selectbox' name=\"loctype_id\" >\r\n            {/* <option value=\"1\">One</option>\r\n            <option value=\"2\">Two</option>\r\n            <option value=\"3\">Three</option> */}\r\n        </Form.Select>\r\n        <br/>\r\n        <Form.Control type=\"hidden\" name=\"post_type\" value=\"LOC\" />\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n            <Form.Label>위치명</Form.Label>\r\n            <Form.Control type=\"text\" name=\"loc_name\" placeholder=\"위치명입력\" />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n            <Form.Label>위치 포인트</Form.Label>\r\n            <Form.Control type=\"text\" name=\"loc_point\" placeholder=\"위치 포인트 입력\" />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\" onChange={ addImage }>\r\n            <Form.Label>위치 사진</Form.Label>\r\n            <Form.Control type=\"file\" name=\"uploadfile\" multiple=\"multiple\" placeholder=\"위치 포인트 입력\" />\r\n        </Form.Group>\r\n        <div className='preview__box' style={{width:'100%', height:'300px', display:'flex'}}>\r\n        {previewImages.map((image, id) => (\r\n            <div key={id} style={{float:'left'}}>\r\n                <img src={image} alt={`${image}-${id}`} style={{width:'100%', height:'300px'}}/>\r\n            </div>\r\n        ))}\r\n        </div>\r\n        <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n        </Button>\r\n    </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddLocPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}